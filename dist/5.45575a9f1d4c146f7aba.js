(window.webpackJsonp=window.webpackJsonp||[]).push([[5,11],{219:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(19),c=a(2),o=a(9),r=a(5),u=a.n(r),m=a(20),i=a(105),d=a.n(i),f=a(15),p=a(69),E=a(11),h=a(12);t.default=Object(c.g)((function(e){const[t,a]=Object(n.useState)(!0),[r,i]=Object(n.useState)(),{postid:b}=Object(c.f)(),w=Object(n.useContext)(E.a),g=Object(n.useContext)(h.a);if(Object(n.useEffect)(()=>{const e=u.a.CancelToken.source();return async function(){try{const t=await u.a.get("/post/"+b,{cancelToken:e.token});i(t.data),a(!1),console.log(t.data)}catch(e){console.log("There was a problem")}}(),()=>{e.cancel()}},[b]),!t&&!r)return s.a.createElement(p.default,null);if(t)return s.a.createElement(l.a,{title:"..."},s.a.createElement(m.a,null));const y=new Date(r.createdDate),N=`${y.getDate()}/${y.getMonth()+1}/${y.getFullYear()}`;return s.a.createElement(l.a,{title:r.title},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h2",null,r.title),w.loggedIn&&w.user.username==r.author.username?s.a.createElement("span",{className:"pt-2"},s.a.createElement(o.b,{to:`/post/${r._id}/edit`,className:"text-primary mr-2","data-tip":"Edit","data-for":"edit"},s.a.createElement("i",{className:"fas fa-edit"})),s.a.createElement(f.a,{id:"edit",className:"custom-tooltip"})," ",s.a.createElement("a",{onClick:async function(){if(1==window.confirm("Do you really want to delete this post?"))try{"Success"==(await u.a.delete("/post/"+b,{data:{token:w.user.token}})).data&&(g({type:"flashMessage",value:"Post was successfully deleted"}),e.history.push("/profile/"+w.user.username))}catch(e){console.log("There was a problem")}},className:"delete-post-button text-danger","data-tip":"Delete","data-for":"delete"},s.a.createElement("i",{className:"fas fa-trash"})),s.a.createElement(f.a,{id:"delete",className:"custom-tooltip"})):""),s.a.createElement("p",{className:"text-muted small mb-4"},s.a.createElement(o.b,{to:"/profile/"+r.author.username},s.a.createElement("img",{className:"avatar-tiny",src:r.author.avatar})),"Posted by ",s.a.createElement(o.b,{to:"/profile/"+r.author.username},r.author.username)," on ",N),s.a.createElement("div",{className:"body-content"},s.a.createElement(d.a,{source:r.body})))}))},69:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(9),c=a(19);t.default=function(e){return s.a.createElement(c.a,{title:"Page not found"},s.a.createElement("div",{className:"text-center"},s.a.createElement("h2",null,"Whoops, can't find this page"),s.a.createElement("p",{className:"lead text-muted"},"You can always visit the ",s.a.createElement(l.b,{to:"/"},"homepage"))))}}}]);